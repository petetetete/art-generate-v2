var $jscomp$this=this;function ArtManager(a,b,c){b=void 0===b?500:b;c=void 0===c?500:c;a.width=b;a.height=c;this.canvas=a;this.context=a.getContext("2d");this.width=b;this.height=c;this.palette="cool";this.algorithm="standard";this.pixelSize=1;this.stats={}}ArtManager.prototype.setWidth=function(a){a=parseInt(a);this.width=this.canvas.width=a};ArtManager.prototype.setHeight=function(a){a=parseInt(a);this.height=this.canvas.height=a};ArtManager.prototype.setPixelSize=function(a){this.pixelSize=parseInt(a)};
ArtManager.prototype.setPalette=function(a){this.palette=a};
ArtManager.prototype.generate=function(){this.stats.pixelCount=0;this.stats.elapsedTime=0;this.stats.uniqueColors=0;var a=performance.now(),b=this._algorithms[this.algorithm](),c=this.context.createImageData(this.width,this.height);c.data.set(b);this.context.putImageData(c,0,0);for(var c=performance.now(),d=0;d<b.length;d+=4);this.stats.pixelCount=this.width*this.height/(this.pixelSize*this.pixelSize);this.stats.elapsedTime=Math.floor(c-a);this.stats.uniqueColors=0};
ArtManager.prototype._palettes={warm:function(){return[getRandomInt(150,255),getRandomInt(0,100),getRandomInt(0,100)]},cool:function(){return[getRandomInt(0,80),getRandomInt(0,80),getRandomInt(150,220)]},natural:function(){return[getRandomInt(25,100),getRandomInt(80,180),getRandomInt(25,100)]}};
ArtManager.prototype._algorithms={standard:function(){for(var a=new Uint8Array($jscomp$this.width*$jscomp$this.height*4),b=0;b<$jscomp$this.height;b+=$jscomp$this.pixelSize)for(var c=0;c<$jscomp$this.width;c+=$jscomp$this.pixelSize)for(var d=$jscomp$this._palettes[$jscomp$this.palette](),h=Math.min(b+$jscomp$this.pixelSize,$jscomp$this.height),k=Math.min(c+$jscomp$this.pixelSize,$jscomp$this.width),f=b;f<h;f++)for(var g=c;g<k;g++){var e=4*(f*$jscomp$this.width+g);a[e]=d[0];a[e+1]=d[1];a[e+2]=d[2];
a[e+3]=255}return a},horizontal:function(){for(var a=new Uint8Array(this.width*this.height*4),b=0;b<this.height;b+=this.pixelSize)for(var c=this._palettes[this.palette](),d=0;d<this.width;d+=this.pixelSize)for(var h=Math.min(b+this.pixelSize,this.height),k=Math.min(d+this.pixelSize,this.width),f=b;f<h;f++)for(var g=d;g<k;g++){var e=4*(f*this.width+g);a[e]=c[0];a[e+1]=c[1];a[e+2]=c[2];a[e+3]=255}return a},vertical:function(){for(var a=new Uint8Array(this.width*this.height*4),b=0;b<this.width;b+=this.pixelSize)for(var c=
this._palettes[this.palette](),d=0;d<this.height;d+=this.pixelSize)for(var h=Math.min(d+this.pixelSize,this.height),k=Math.min(b+this.pixelSize,this.width),f=d;f<h;f++)for(var g=b;g<k;g++){var e=4*(f*this.width+g);a[e]=c[0];a[e+1]=c[1];a[e+2]=c[2];a[e+3]=255}return a}};
var perfTests=[],app=new ArtManager(document.getElementById("canvas"),1E3,1E3),button=document.getElementById("draw"),width=document.getElementById("width"),height=document.getElementById("height"),pixel=document.getElementById("pixel"),palette=document.getElementById("palette");button.onclick=function(){var a=performance.now();app.generate();var b=performance.now();document.getElementById("time").innerText=Math.round(b-a)+"ms";perfTests.push(b-a)};width.onchange=function(a){return app.setWidth(a.target.value)};
height.onchange=function(a){return app.setHeight(a.target.value)};pixel.onchange=function(a){return app.setPixelSize(a.target.value)};palette.onchange=function(a){return app.setPalette(a.target.value)};function getRandomInt(a,b){return Math.floor(Math.random()*(b-a+1))+a};
